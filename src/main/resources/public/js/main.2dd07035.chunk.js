(this["webpackJsonparchitect-notes"]=this["webpackJsonparchitect-notes"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(55),u=n.n(c),i=n(1),o=n(30),l=n(11),s=n(2),b=n(7),m=n(12),f=n.n(m),d=n(56),p=n.n(d).a.create({baseURL:"http://3.125.104.84:5000/api",paramsSerializer:f.a.stringify}),v=n(33),E=function(e){var t=[];return e.topicList.forEach((function(e){if(e.parentId){var n=t.findIndex((function(t){return t.id===e.parentId}));void 0!==n&&t.splice(n+1,0,Object(v.a)({},e,{depth:t[n].depth+1}))}else t.push(Object(v.a)({},e,{depth:0}))})),t},h=["entry","medium","advanced"],j=n(57),O=n.n(j),g=n(58);function y(){var e=Object(i.a)(["\n  * {\n    max-width: 100%;\n  }\n"]);return y=function(){return e},e}var k=s.b.div(y()),x=Object(a.memo)((function(e){var t=e.input;return r.a.createElement(k,{dangerouslySetInnerHTML:{__html:Object(g.sanitize)(O()(t))}})})),S=n(62),w=n.n(S);function L(){var e=Object(i.a)(["\n  margin-top: 20px;\n  display: flex;\n  justify-content: center;\n"]);return L=function(){return e},e}var C=s.b.div(L()),I=function(e){var t=e.split(":"),n=Object(b.a)(t,3),a=n[0],r=n[1],c=n[2];return 60*parseInt(a,10)*60+60*parseInt(r,10)+parseInt(c,10)},P=Object(a.memo)((function(e){var t=e.sourceLink,n=function(e){if(!e)return[0,1/0];var t=e.split(" - "),n=Object(b.a)(t,2),a=n[0],r=n[1];return[I(a),I(r)]}(e.timePeriod),c=Object(b.a)(n,2),u=c[0],i=c[1],o=function(e){var t;try{t=new URL(e)}catch(a){t=new URL(e.match(/[^[](\S+)(?=\])/gi)[0])}var n=t.search;return f.a.parse(n.slice(1)).v}(t),l=Object(a.useRef)(null),s=Object(a.useRef)(!1),m=Object(a.useCallback)((function(e){var t;e.playedSeconds>i&&e.playedSeconds-i<2&&!s.current&&((null===(t=l.current)||void 0===t?void 0:t.getInternalPlayer()).pauseVideo(),s.current=!0)}),[i,s]);return r.a.createElement(C,null,r.a.createElement(w.a,{ref:l,url:"https://www.youtube.com/watch?v=".concat(o,"&start=").concat(u),controls:!0,onProgress:m}))}));function R(){var e=Object(i.a)(["\n  font-size: 0.7em;\n"]);return R=function(){return e},e}function A(){var e=Object(i.a)(["\n  opacity: 0.75;\n  font-size: 0.8em;\n  padding-bottom: 5px;\n  border-bottom: 1px solid black;\n"]);return A=function(){return e},e}function z(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return z=function(){return e},e}function T(){var e=Object(i.a)(["\n  margin: 0;\n"]);return T=function(){return e},e}function U(){var e=Object(i.a)(["\n  border: 1px solid black;\n  padding: 10px;\n  border-radius: 8px;\n  margin-bottom: 15px;\n"]);return U=function(){return e},e}var B=s.b.div(U()),F=s.b.p(T()),J=s.b.div(z()),M=s.b.p(A()),N=s.b.span(R()),_=Object(a.memo)((function(e){var t,n=e.result;return r.a.createElement(B,null,r.a.createElement(J,null,r.a.createElement(F,null,"Category: ",n.attributes.semantics),r.a.createElement(F,null,"Clarity: ",n.attributes.clarity)),r.a.createElement(M,null,n.path.map((function(e){return e.title})).join(" - ")),r.a.createElement(J,null,n.attributes.sourceAuthor&&r.a.createElement(N,null,"Author: ",n.attributes.sourceAuthor),n.attributes.timePeriod&&r.a.createElement(N,null,"Relevant section: ",n.attributes.timePeriod)),r.a.createElement(x,{input:n.text}),(null===(t=n.attributes.sourceLink)||void 0===t?void 0:t.includes("youtube.com"))&&r.a.createElement(P,{sourceLink:n.attributes.sourceLink,timePeriod:n.attributes.timePeriod}))})),D=function(e){var t=e.loadingState,n=e.children;return r.a.createElement(r.a.Fragment,null,"success"===t?n:r.a.createElement("p",null,r.a.createElement("em",null,"loading"===t?"Loading...":"An error ocurred :(")))};function H(){var e=Object(i.a)(["\n  margin: 0 auto;\n  width: 800px;\n"]);return H=function(){return e},e}var V=s.b.div(H()),q=Object(a.memo)((function(e){var t=e.topic,n=e.seniority,c=Object(a.useState)([]),u=Object(b.a)(c,2),i=u[0],o=u[1],l=Object(a.useState)("loading"),s=Object(b.a)(l,2),m=s[0],f=s[1];return Object(a.useEffect)((function(){var e,a;(e=t,a=n,p.get("knowledgeblocks",{params:{title:e.trim(),level:a}}).then((function(e){return e.data.knowledgeBlockList}))).then(o).then((function(){return f("success")})).catch((function(e){console.error(e),f("error")}))}),[t,n]),r.a.createElement(V,null,r.a.createElement(D,{loadingState:m},i.length>0?i.map((function(e){return r.a.createElement(_,{key:e.id,result:e})})):r.a.createElement("p",null,r.a.createElement("em",null,"No results found :("))))}));function G(){var e=Object(i.a)(["\n  margin-left: 10px;\n"]);return G=function(){return e},e}function K(){var e=Object(i.a)(["\n  margin-left: 8px;\n  max-width: 60%;\n"]);return K=function(){return e},e}function Q(){var e=Object(i.a)(["\n  display: block;\n  margin-bottom: 5px;\n"]);return Q=function(){return e},e}function W(){var e=Object(i.a)(["\n  border-bottom: 1px solid black;\n  padding-bottom: 15px;\n  margin-bottom: 15px;\n"]);return W=function(){return e},e}var X=s.b.form(W()),Y=s.b.label(Q()),Z=s.b.select(K()),$=s.b.button(G()),ee=function(e){return function(t){e(t.currentTarget.value)}},te=function(){var e=Object(l.g)(),t=f.a.parse(e.location.search.slice(1)),n=t.topic,c=t.seniority,u=Object(a.useState)([]),i=Object(b.a)(u,2),o=i[0],s=i[1],m=Object(a.useState)(null!==n&&void 0!==n?n:""),d=Object(b.a)(m,2),v=d[0],j=d[1],O=Object(a.useState)("loading"),g=Object(b.a)(O,2),y=g[0],k=g[1],x=Object(a.useState)(null!==c&&void 0!==c?c:""),S=Object(b.a)(x,2),w=S[0],L=S[1];Object(a.useEffect)((function(){p.get("topics").then((function(e){return e.data})).then(E).then(s).then((function(){return k("success")})).catch((function(e){console.error(e),k("error")}))}),[]);var C=Object(a.useCallback)((function(t){t.preventDefault();var n={topic:v,level:w};Object.entries(n).forEach((function(e){var t=Object(b.a)(e,2),a=t[0];t[1]||delete n[a]})),e.push("/search?".concat(f.a.stringify(n)))}),[e,w,v]),I=Object(a.useCallback)((function(){L(""),j("")}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Architect Notes"),r.a.createElement(D,{loadingState:y},r.a.createElement(X,{onSubmit:C},r.a.createElement(Y,null,"Select topic:",r.a.createElement(Z,{value:v,onChange:ee(j)},r.a.createElement("option",{value:"",disabled:!0},"Topic"),o.map((function(e){return r.a.createElement("option",{key:e.id,value:e.title},"".concat("--".repeat(e.depth)," ").concat(e.title))})))),r.a.createElement(Y,null,"Select seniority level:",r.a.createElement(Z,{value:w,onChange:ee(L)},r.a.createElement("option",{value:"",disabled:!0},"Seniority"),h.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",null,r.a.createElement("button",{disabled:!v},"Search"),r.a.createElement(l.b,{path:"/search"},r.a.createElement($,{onClick:I},"Clear"))))),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/search"},n?r.a.createElement(q,{topic:n,seniority:c}):r.a.createElement(l.a,{to:"/"})),r.a.createElement(l.b,{path:"*"},r.a.createElement(l.a,{to:"/"}))))};function ne(){var e=Object(i.a)(["\n  body {\n    font-family: Montserrat, 'sans-serif';\n  }\n"]);return ne=function(){return e},e}var ae=Object(s.a)(ne());u.a.render(r.a.createElement((function(){return r.a.createElement(o.a,null,r.a.createElement(ae,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",component:te})))}),null),document.getElementById("root"))},65:function(e,t,n){e.exports=n(100)}},[[65,1,2]]]);
//# sourceMappingURL=main.2dd07035.chunk.js.map